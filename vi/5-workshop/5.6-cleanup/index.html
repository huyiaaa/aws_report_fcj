<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=https://huyiaaa.github.io/aws_report_fcj/images/favicon.png type=image/png><title>Dọn dẹp tài nguyên :: Báo cáo thực tập</title>
<link href=https://huyiaaa.github.io/aws_report_fcj/css/nucleus.css?1765042429 rel=stylesheet><link href=https://huyiaaa.github.io/aws_report_fcj/css/fontawesome-all.min.css?1765042429 rel=stylesheet><link href=https://huyiaaa.github.io/aws_report_fcj/css/hybrid.css?1765042429 rel=stylesheet><link href=https://huyiaaa.github.io/aws_report_fcj/css/featherlight.min.css?1765042429 rel=stylesheet><link href=https://huyiaaa.github.io/aws_report_fcj/css/perfect-scrollbar.min.css?1765042429 rel=stylesheet><link href=https://huyiaaa.github.io/aws_report_fcj/css/auto-complete.css?1765042429 rel=stylesheet><link href=https://huyiaaa.github.io/aws_report_fcj/css/atom-one-dark-reasonable.css?1765042429 rel=stylesheet><link href=https://huyiaaa.github.io/aws_report_fcj/css/theme.css?1765042429 rel=stylesheet><link href=https://huyiaaa.github.io/aws_report_fcj/css/hugo-theme.css?1765042429 rel=stylesheet><link href=https://huyiaaa.github.io/aws_report_fcj/css/theme-workshop.css?1765042429 rel=stylesheet><script src=https://huyiaaa.github.io/aws_report_fcj/js/jquery-3.3.1.min.js?1765042429></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.6-cleanup/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=https://huyiaaa.github.io/aws_report_fcj/><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://huyiaaa.github.io/aws_report_fcj/js/lunr.min.js?1765042429></script><script type=text/javascript src=https://huyiaaa.github.io/aws_report_fcj/js/auto-complete.js?1765042429></script><script type=text/javascript>var baseurl="https://huyiaaa.github.io/aws_report_fcj//vi"</script><script type=text/javascript src=https://huyiaaa.github.io/aws_report_fcj/js/search.js?1765042429></script></div><div class=highlightable><ul class=topics><li data-nav-id=/vi/1-worklog/ title="Nhật ký công việc" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/1-worklog/1.1-week1/ title="Tuần 1 - Worklog" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.1-week1/><b>1.1. </b>Tuần 1 - Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.2-week2/ title="Tuần 2 - Worklog" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.2-week2/><b>1.2. </b>Tuần 2 - Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.3-week3/ title="Tuần 3 - Worklog" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.3-week3/><b>1.3. </b>Tuần 3 - Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.4-week4/ title="Tuần 4 - Worklog" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.4-week4/><b>1.4. </b>Tuần 4 - Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.5-week5/ title="Tuần 5 - Worklog" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.5-week5/><b>1.5. </b>Tuần 5 - Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.7-week7/ title="Tuần 7 - Worklog" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.7-week7/><b>1.7. </b>Tuần 7 - Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.8-week8/ title="Tuần 8 - Worklog" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.8-week8/><b>1.8. </b>Tuần 8 - Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.9-week9/ title="Tuần 9 - Worklog" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.9-week9/><b>1.9. </b>Tuần 9 - Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.10-week10/ title="Tuần 10 - Worklog" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.10-week10/><b>1.10. </b>Tuần 10 - Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.11-week11/ title="Tuần 11 - Worklog" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.11-week11/><b>1.11. </b>Tuần 11 - Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.12-week12/ title="Tuần 12 - Worklog" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.12-week12/><b>1.12. </b>Tuần 12 - Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.6-week6/ title class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/1-worklog/1.6-week6/><i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/2-proposal/ title="Bản đề xuất" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/2-proposal/><b>2. </b>Bản đề xuất
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/ title="Các bài blogs đã dịch" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/3-blogstranslated/><b>3. </b>Các bài blogs đã dịch
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/3-blogstranslated/3.1-blog1/ title="Blog 1" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.2-blog2/ title="blog 2" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/3-blogstranslated/3.2-blog2/><b>3.2. </b>blog 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.3-blog3/ title="Blog 3" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/3-blogstranslated/3.3-blog3/><b>3.3. </b>Blog 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/4-eventparticipated/ title="Các events đã tham gia" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/4-eventparticipated/><b>4. </b>Các events đã tham gia
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.2-event2/ title="Sự kiện 2" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/4-eventparticipated/4.2-event2/><b>4.2. </b>Sự kiện 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.3-event3/ title="Event 3" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/4-eventparticipated/4.3-event3/><b>4.3. </b>Event 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.4-event4/ title="Event 4" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/4-eventparticipated/4.4-event4/><b>4.4. </b>Event 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.5-event5/ title="Event 5" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/4-eventparticipated/4.5-event5/><b>4.5. </b>Event 5
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/ title=Workshop class="dd-item
parent"><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.1-workshop-overview/ title="Quick Start: DevSecOps với FastAPI Backend" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Quick Start: DevSecOps với FastAPI Backend
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.2-prerequiste/ title="Điều kiện tiên quyết" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.2-prerequiste/><b>5.2. </b>Điều kiện tiên quyết
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-s3-vpc/ title="Thiết lập GitLab CI/CD Pipeline" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.3-s3-vpc/><b>5.3. </b>Thiết lập GitLab CI/CD Pipeline
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.3-s3-vpc/5.3.1-create-gwe/ title="Thiết lập GitLab CI/CD Pipeline" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.3-s3-vpc/5.3.1-create-gwe/><b>5.3.1. </b>Thiết lập GitLab CI/CD Pipeline
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-s3-vpc/5.3.2-test-gwe/ title="DevSecOps Security Testing & Configuration" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.3-s3-vpc/5.3.2-test-gwe/><b>5.3.2. </b>DevSecOps Security Testing & Configuration
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/5.4-s3-onprem/ title="Deploy FastAPI Backend" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.4-s3-onprem/><b>5.4. </b>Deploy FastAPI Backend
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.4-s3-onprem/5.4.1-prepare/ title="Cấu trúc ứng dụng FastAPI" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.4-s3-onprem/5.4.1-prepare/><b>5.4.1. </b>Cấu trúc ứng dụng FastAPI
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.4-s3-onprem/5.4.2-create-interface-enpoint/ title="Triển khai Infrastructure với Terraform" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.4-s3-onprem/5.4.2-create-interface-enpoint/><b>5.4.2. </b>Triển khai Infrastructure với Terraform
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.4-s3-onprem/5.4.3-test-endpoint/ title="Kiểm thử API" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.4-s3-onprem/5.4.3-test-endpoint/><b>5.4.3. </b>Kiểm thử API
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.4-s3-onprem/5.4.4-dns-simulation/ title="Load Testing với Artillery" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.4-s3-onprem/5.4.4-dns-simulation/><b>5.4.4. </b>Load Testing với Artillery
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/5.5-policy/ title="Cấu hình Thủ công: Monitoring & Security" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.5-policy/><b>5.5. </b>Cấu hình Thủ công: Monitoring & Security
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.6-cleanup/ title="Dọn dẹp tài nguyên" class="dd-item
active"><a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.6-cleanup/><b>5.6. </b>Dọn dẹp tài nguyên
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/6-self-evaluation/ title="Tự Đánh Giá (Self-Assessment)" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/6-self-evaluation/><b>6. </b>Tự Đánh Giá (Self-Assessment)
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/7-feedback/ title="Chia sẻ, đóng góp ý kiến" class=dd-item><a href=https://huyiaaa.github.io/aws_report_fcj/vi/7-feedback/><b>7. </b>Chia sẻ, đóng góp ý kiến
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://huyiaaa.github.io/aws_report_fcj/en/5-workshop/5.6-cleanup/>English</option><option id=vi value=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.6-cleanup/ selected>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=https://huyiaaa.github.io/aws_report_fcj/vi/>Báo cáo thực tập </a>> <a href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/>Workshop</a> > Dọn dẹp tài nguyên</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#dọn-dẹp-tài-nguyên>Dọn dẹp tài nguyên</a><ul><li><a href=#thứ-tự-dọn-dẹp>Thứ tự dọn dẹp</a></li><li><a href=#bước-1-destroy-infrastructure-với-terraform>Bước 1: Destroy Infrastructure với Terraform</a></li><li><a href=#bước-2-destroy-cicd-pipeline>Bước 2: Destroy CI/CD Pipeline</a></li><li><a href=#bước-3-dọn-dẹp-thủ-công-nếu-cần>Bước 3: Dọn dẹp thủ công (nếu cần)</a></li><li><a href=#bước-4-xác-minh-xóa>Bước 4: Xác minh xóa</a></li><li><a href=#bước-5-dọn-dẹp-local-files-tùy-chọn>Bước 5: Dọn dẹp Local Files (Tùy chọn)</a></li><li><a href=#các-vấn-đề-thường-gặp-và-giải-pháp>Các vấn đề thường gặp và giải pháp</a></li><li><a href=#xác-minh-chi-phí>Xác minh chi phí</a></li><li><a href=#best-practices>Best Practices</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Dọn dẹp tài nguyên</h1><h2 id=dọn-dẹp-tài-nguyên>Dọn dẹp tài nguyên</h2><p>Trong phần này, bạn sẽ dọn dẹp tất cả tài nguyên AWS được tạo trong workshop để tránh phát sinh chi phí không cần thiết.</p><h3 id=thứ-tự-dọn-dẹp>Thứ tự dọn dẹp</h3><p>Quan trọng là xóa tài nguyên theo đúng thứ tự do dependencies:</p><ol><li><strong>CodePipeline và CodeBuild</strong> (nếu tạo riêng)</li><li><strong>API Gateway</strong></li><li><strong>Lambda Function</strong></li><li><strong>DynamoDB Tables</strong></li><li><strong>CloudWatch Log Groups</strong></li><li><strong>SNS Topics</strong></li><li><strong>IAM Roles</strong></li><li><strong>ECR Repository</strong> (images)</li><li><strong>Secrets Manager Secret</strong> (tùy chọn)</li></ol><h3 id=bước-1-destroy-infrastructure-với-terraform>Bước 1: Destroy Infrastructure với Terraform</h3><p>Cách dễ nhất để dọn dẹp là sử dụng Terraform:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd infra
</span></span><span style=display:flex><span>terraform destroy
</span></span></code></pre></div><p>Điều này sẽ destroy:</p><ul><li>Lambda function</li><li>API Gateway HTTP API</li><li>DynamoDB tables</li><li>IAM roles</li><li>CloudWatch log groups</li><li>SNS topics</li><li>CloudWatch alarms</li></ul><p><strong>Lưu ý:</strong> Bạn có thể cần xác nhận thủ công việc xóa một số tài nguyên.</p><p><img alt="Terraform Destroy" src=https://huyiaaa.github.io/aws_report_fcj/images/5-Workshop/5.6-Clean-Up-Resources/terraform-destroy.png></p><h3 id=bước-2-destroy-cicd-pipeline>Bước 2: Destroy CI/CD Pipeline</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd pipeline
</span></span><span style=display:flex><span>terraform destroy
</span></span></code></pre></div><p>Điều này sẽ destroy:</p><ul><li>CodePipeline</li><li>CodeBuild projects</li><li>ECR repository</li><li>S3 bucket cho artifacts</li><li>IAM roles cho pipeline</li></ul><h3 id=bước-3-dọn-dẹp-thủ-công-nếu-cần>Bước 3: Dọn dẹp thủ công (nếu cần)</h3><h4 id=xóa-ecr-images>Xóa ECR Images</h4><p>Nếu Terraform không xóa ECR images:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Liệt kê images</span>
</span></span><span style=display:flex><span>aws ecr list-images <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --repository-name fastapi-lambda <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region us-east-1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa images</span>
</span></span><span style=display:flex><span>aws ecr batch-delete-image <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --repository-name fastapi-lambda <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --image-ids imageTag<span style=color:#f92672>=</span>latest <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region us-east-1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa repository</span>
</span></span><span style=display:flex><span>aws ecr delete-repository <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --repository-name fastapi-lambda <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --force <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region us-east-1
</span></span></code></pre></div><h4 id=xóa-secrets-manager-secret>Xóa Secrets Manager Secret</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>aws secretsmanager delete-secret <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --secret-id fastapi-jwt-secret <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --force-delete-without-recovery <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region us-east-1
</span></span></code></pre></div><h4 id=xóa-s3-artifacts-bucket>Xóa S3 Artifacts Bucket</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Empty bucket trước</span>
</span></span><span style=display:flex><span>aws s3 rm s3://fastapi-pipeline-artifacts-YOUR-OWNER-YOUR-REPO --recursive
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa bucket</span>
</span></span><span style=display:flex><span>aws s3 rb s3://fastapi-pipeline-artifacts-YOUR-OWNER-YOUR-REPO
</span></span></code></pre></div><h4 id=xóa-cloudwatch-log-groups-nếu-không-bị-terraform-xóa>Xóa CloudWatch Log Groups (nếu không bị Terraform xóa)</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>aws logs delete-log-group <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --log-group-name /aws/lambda/fastapi-lambda-fn <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region us-east-1
</span></span></code></pre></div><h4 id=xóa-sns-subscriptions>Xóa SNS Subscriptions</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Liệt kê subscriptions</span>
</span></span><span style=display:flex><span>aws sns list-subscriptions-by-topic <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --topic-arn arn:aws:sns:us-east-1:123456789012:fastapi-lambda-alerts
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Unsubscribe</span>
</span></span><span style=display:flex><span>aws sns unsubscribe <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --subscription-arn arn:aws:sns:us-east-1:123456789012:fastapi-lambda-alerts:subscription-id
</span></span></code></pre></div><h3 id=bước-4-xác-minh-xóa>Bước 4: Xác minh xóa</h3><h4 id=kiểm-tra-lambda-functions>Kiểm tra Lambda Functions</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>aws lambda list-functions <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region us-east-1 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#39;Functions[?contains(FunctionName, `fastapi`)].FunctionName&#39;</span>
</span></span></code></pre></div><p>Nên trả về empty hoặc không có functions khớp.</p><h4 id=kiểm-tra-api-gateway-apis>Kiểm tra API Gateway APIs</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>aws apigatewayv2 get-apis <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region us-east-1 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#39;Items[?contains(Name, `fastapi`)].Name&#39;</span>
</span></span></code></pre></div><h4 id=kiểm-tra-dynamodb-tables>Kiểm tra DynamoDB Tables</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>aws dynamodb list-tables <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region us-east-1 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#39;TableNames[?contains(@, `products`) || contains(@, `orders`) || contains(@, `users`)]&#39;</span>
</span></span></code></pre></div><h4 id=kiểm-tra-ecr-repositories>Kiểm tra ECR Repositories</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>aws ecr describe-repositories <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region us-east-1 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#39;repositories[?contains(repositoryName, `fastapi`)].repositoryName&#39;</span>
</span></span></code></pre></div><h3 id=bước-5-dọn-dẹp-local-files-tùy-chọn>Bước 5: Dọn dẹp Local Files (Tùy chọn)</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Xóa Terraform state files</span>
</span></span><span style=display:flex><span>rm -rf infra/.terraform infra/terraform.tfstate*
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa pipeline state files</span>
</span></span><span style=display:flex><span>rm -rf pipeline/.terraform pipeline/terraform.tfstate*
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa Docker images</span>
</span></span><span style=display:flex><span>docker rmi fastapi-lambda:latest
</span></span><span style=display:flex><span>docker rmi <span style=color:#66d9ef>$(</span>docker images | grep fastapi | awk <span style=color:#e6db74>&#39;{print $3}&#39;</span><span style=color:#66d9ef>)</span>
</span></span></code></pre></div><h3 id=các-vấn-đề-thường-gặp-và-giải-pháp>Các vấn đề thường gặp và giải pháp</h3><h4 id=vấn-đề-terraform-destroy-thất-bại-do-dependencies>Vấn đề: Terraform destroy thất bại do dependencies</h4><p><strong>Giải pháp:</strong> Xóa tài nguyên thủ công theo đúng thứ tự, hoặc sử dụng <code>terraform destroy -target</code> để xóa các tài nguyên cụ thể trước.</p><h4 id=vấn-đề-ecr-repository-không-rỗng>Vấn đề: ECR repository không rỗng</h4><p><strong>Giải pháp:</strong> Xóa tất cả images trước, sau đó xóa repository.</p><h4 id=vấn-đề-s3-bucket-không-rỗng>Vấn đề: S3 bucket không rỗng</h4><p><strong>Giải pháp:</strong> Empty bucket trước, sau đó xóa nó.</p><h4 id=vấn-đề-dynamodb-table-deletion-mất-thời-gian>Vấn đề: DynamoDB table deletion mất thời gian</h4><p><strong>Giải pháp:</strong> Đợi table deletion hoàn tất. Sử dụng <code>aws dynamodb describe-table</code> để kiểm tra status.</p><h3 id=xác-minh-chi-phí>Xác minh chi phí</h3><p>Sau khi dọn dẹp, xác minh không có chi phí bất ngờ:</p><ol><li>Điều hướng đến <strong>AWS Cost Explorer</strong></li><li>Kiểm tra recent charges</li><li>Xác minh không có tài nguyên nào đang chạy</li></ol><p>Chi phí mong đợi sau khi dọn dẹp: <strong>$0</strong> (trừ bất kỳ free tier usage nào)</p><h3 id=best-practices>Best Practices</h3><ol><li><strong>Luôn sử dụng Terraform destroy</strong> khi có thể để xóa sạch</li><li><strong>Xác minh xóa</strong> để đảm bảo không có orphaned resources</li><li><strong>Thiết lập billing alerts</strong> để giám sát chi phí bất ngờ</li><li><strong>Sử dụng tags</strong> để xác định tài nguyên workshop để dễ dọn dẹp</li><li><strong>Document manual steps</strong> cho tài nguyên không được quản lý bởi Terraform</li></ol><div class="notices warning"><p>Đảm bảo xóa tất cả tài nguyên để tránh phát sinh chi phí. Một số tài nguyên như DynamoDB tables và Lambda functions có thể tích lũy chi phí nếu để chạy.</p></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=https://huyiaaa.github.io/aws_report_fcj/vi/5-workshop/5.5-policy/ title="Cấu hình Thủ công: Monitoring & Security"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=https://huyiaaa.github.io/aws_report_fcj/vi/6-self-evaluation/ title="Tự Đánh Giá (Self-Assessment)" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://huyiaaa.github.io/aws_report_fcj/js/clipboard.min.js?1765042429></script><script src=https://huyiaaa.github.io/aws_report_fcj/js/perfect-scrollbar.min.js?1765042429></script><script src=https://huyiaaa.github.io/aws_report_fcj/js/perfect-scrollbar.jquery.min.js?1765042429></script><script src=https://huyiaaa.github.io/aws_report_fcj/js/jquery.sticky.js?1765042429></script><script src=https://huyiaaa.github.io/aws_report_fcj/js/featherlight.min.js?1765042429></script><script src=https://huyiaaa.github.io/aws_report_fcj/js/highlight.pack.js?1765042429></script><script>hljs.initHighlightingOnLoad()</script><script src=https://huyiaaa.github.io/aws_report_fcj/js/modernizr.custom-3.6.0.js?1765042429></script><script src=https://huyiaaa.github.io/aws_report_fcj/js/learn.js?1765042429></script><script src=https://huyiaaa.github.io/aws_report_fcj/js/hugo-learn.js?1765042429></script><link href=https://huyiaaa.github.io/aws_report_fcj/mermaid/mermaid.css?1765042429 rel=stylesheet><script src=https://huyiaaa.github.io/aws_report_fcj/mermaid/mermaid.js?1765042429></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>